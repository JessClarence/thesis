@using thesis.Data.Enum;
<!-- CONTENT STARTS-->
<link href="~/css/inspectorSideNav.css" rel="stylesheet" />
<section id="content">
	<!-- MAIN STARTS-->
	<main>
		<div class="FirstLayer">

			<button id="downloadButton" onclick="download()">
				Download <i class="bx bx-download"></i>
			</button>

		</div>

		<div class="FirstLayer">
			<button id="toggleFiltersButton" onclick="toggleFilters()">
				Show Filters <i class="bx bx-filter-alt"></i>
			</button>


		</div>
		<div class="FirstLayer">
			<div class="filter-box" id="filtersContainer">
				<div class="input-wrapper">
					<label for="startdate">Start Date</label>
					<input onchange="filterDataDate()" type="date" id="startdate" class="filter">
				</div>
				<div class="input-wrapper">
					<label for="enddate">End Date</label>
					<input onchange="filterDataDate()" type="date" id="enddate" class="filter">
				</div>

				<div class="input-wrapper">
					<label for="timeFrame">Time Frame</label>
					<select onchange="filterDatatimeFrame()" id="timeFrame" class="filter">
						<option value="">Monthly</option>
						<option value="">Daily</option>
						<option value="">Weekly</option>
						<option value="">Yearly</option>
					</select>
				</div>

				@if (User.IsInRole("InspectorAdmin"))
				{
					<div class="input-wrapper">
						<label for="meatEstablishment">Meat Inspector</label>
						<select onchange="filterDatameatEstablishment()" id="meatEstablishment" class="filter meatEstablishment">
							<option value="">All</option>
							<option value="">Adrianne Basuel</option>
							<option value="">Jess</option>
							<option value="">Gerico Alagon</option>
							<option value="">Mary Grace Inyawan.</option>
							<option value="">Karlo Karlo</option>

						</select>
					</div>

				}

			</div>
		</div>

		<script>
			function filterDataDate() {
				var startDate = document.getElementById("startdate").value;
				var endDate = document.getElementById("enddate").value;
				var rows = document.getElementsByClassName("filter-item");

				for (var i = 0; i < rows.length; i++) {
					var row = rows[i];
					var dateCell = row.cells[0]; // Assuming the date is in the first cell

					if (startDate && endDate) {
						var rowDate = new Date(dateCell.innerText).toISOString().split('T')[0]; // Extract date part
						var start = new Date(startDate);
						var end = new Date(endDate);

						if (rowDate >= start.toISOString().split('T')[0] && rowDate <= end.toISOString().split('T')[0]) {
							row.style.display = "table-row";
						} else {
							row.style.display = "none";
						}
					} else {
						row.style.display = "table-row";
					}
				}
			}
		</script>

		<div class="FirstLayer">

			<div class="antemortem-chart charts-card">


				<h3>Meat Inspection Report</h3>
				<br />

				<div class="head">
					Meat Establishment: <text type="text" name="Meat Establishment" />
				</div>

				<div class="head">
					Region: <text type="text" name="Meat Establishment" />
				</div>
				<div class="head">
					License to Operate Number: <text type="text" name="Meat Establishment" />
				</div>
				<div class="head">
					Address: <text type="text" name="Meat Establishment" />
				</div>


				<div id="bar-chart"></div>

			</div>


		</div>

		<div class="FirstLayer">



			<div class="applications">
				<a asp-controller="ConductOfInspections" asp-action="Index">
					<div class="head">
						<h3>I</h3>
					</div>
				</a>
			</div>


			<div type="button" class="applications">
				<a asp-controller="Postmortems" asp-action="Index">
					<div class="head">
						<h3>II</h3>
					</div>
				</a>

			</div>
		</div>

		<div type="button" class="FirstLayer">
			<div class="applications">
				<a asp-controller="totalNoFitForHumanConsumptions" asp-action="Index">
					<div class="head">
						<h3>III</h3>
					</div>
				</a>
			</div>

			<div type="button" class="applications">
				<a asp-controller="SummaryAndDistributionOfMICs" asp-action="Index">
					<div class="head">
						<h3>IV</h3>
					</div>
				</a>


			</div>
		</div>






	</main>
	<!-- MAIN ENDS -->

	<script>
		//filters
		window.onload = function () {
			var filtersContainer = document.getElementById("filtersContainer");
			filtersContainer.style.display = "none"; // Start with filters hidden
		};

		function toggleFilters() {
			var filtersContainer = document.getElementById("filtersContainer");
			var toggleFiltersButton = document.getElementById("toggleFiltersButton");
			var filterIcon = toggleFiltersButton.querySelector("i.bx-filter-alt");

			if (filtersContainer.style.display === "none") {
				filtersContainer.style.display = "flex";
				filterIcon.style.display = "inline";
				toggleFiltersButton.innerHTML = "Hide Filters <i class='bx bx-filter-alt'></i>";
			} else {
				filtersContainer.style.display = "none";
				filterIcon.style.display = "inline";
				toggleFiltersButton.innerHTML = "Show Filters <i class='bx bx-filter-alt'></i>";
			}
		}

		function filterDataDate() {
			// Implement filtering logic for date
		}

		function filterDataSpecies() {
			// Implement filtering logic for species
		}

		function filterDatameatEstablishment() {
			// Implement filtering logic for meat establishment
		}
	</script>


	<script src="~/js/shared.js" asp-append-version="true"></script>

</section>
<!-- CONTENT ENDS-->